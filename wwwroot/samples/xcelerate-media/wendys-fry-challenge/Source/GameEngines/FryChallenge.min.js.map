{"version":3,"sources":["Fries.ts","Game.ts","Handles.ts","InputEvent.ts","Nuggets.ts","Oil.ts","Operation.ts","Controls/Quiz.ts","Controls/Timer.ts","Controls/Timers.ts","Controls/ToolTray.ts","State/Boot.ts","State/Main.ts","State/Preload.ts"],"names":[],"mappings":"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","file":"FryChallenge.min.js","sourcesContent":["// Hotspot data for the Fry holding bins.\r\nmodule FryChallenge {\r\n    export class Fries {\r\n        static fries: Array<Phaser.Rectangle> = [\r\n            new Phaser.Rectangle(308, 423, 75, 125),\r\n            new Phaser.Rectangle(384, 453, 65, 125)\r\n        ];\r\n\r\n        static left: Phaser.Sprite;\r\n\r\n        static Configure(left: Phaser.Sprite) {\r\n            this.left = left;\r\n        }\r\n\r\n        public static Get(index: number): Phaser.Rectangle {\r\n            var r = new Phaser.Rectangle(\r\n                (this.fries[ index ].x * this.left.scale.x),\r\n                (this.fries[ index ].y * this.left.scale.y) + this.left.top,\r\n                this.fries[ index ].width,\r\n                this.fries[ index ].height\r\n            );\r\n\r\n            r.scale(this.left.scale.x, this.left.scale.y);\r\n\r\n            return r;\r\n        }\r\n\r\n        public static Test(index: number, point: Phaser.Point): boolean {\r\n            return this.Get(index).contains(point.x, point.y);\r\n        }\r\n    }\r\n}","///<reference path=\"../../node_modules/phaser/typescript/phaser.d.ts\" />\r\n///<reference path=\"../../_Published/Source/XM/Helpers.js\" />\r\n///<reference path=\"../../_Published/Source/XM/LMS/LMSBase.js\" />\r\n\r\nmodule FryChallenge {\r\n    export class FryGame extends Phaser.Game {\r\n        constructor() {\r\n            // Fix iOS iframe sizing issue.\r\n            $(window).resize(function () {\r\n                if (IsInMobileSafari()) {\r\n                    document.body.style.width = parent['contentWidth'];\r\n                    document.body.style.height = parent['contentHeight'];\r\n                }\r\n            });\r\n\r\n            $(document).on('touchmove', false);\r\n\r\n            super(\"100%\", \"100%\", Phaser.AUTO, 'container');\r\n\r\n            this.state.add('Boot', Boot, false);\r\n            this.state.add('Preload', Preload, false);\r\n            this.state.add('Main', Main, false);\r\n\r\n            this.state.start('Boot');\r\n        }\r\n\r\n        public static instance(): FryGame {\r\n            return window[ 'game' ] as FryGame;\r\n        }\r\n\r\n        public static PlaySound(key: string): any {\r\n            return window[ 'sounds' ][ key ].loop(false).play();\r\n        }\r\n\r\n        public static StopSound(key:string, id: number) {\r\n            window[ 'sounds' ][ key ].stop(id);\r\n        }\r\n\r\n        public static LoopSound(key: string) {\r\n            return window[ 'sounds' ][ key ].loop(true).play();\r\n        }\r\n\r\n        public static Correct() {\r\n            $('#correct')\r\n                .show()\r\n                .css({ opacity: 1 })\r\n                .animate({ opacity: 0 }, 500, 'linear', function () {\r\n                    $(this).hide();\r\n                });\r\n        }\r\n\r\n        public static Wrong() {\r\n            $('#wrong')\r\n                .show()\r\n                .css({ opacity: 1 })\r\n                .animate({ opacity: 0 }, 500, 'linear', function () {\r\n                    $(this).hide();\r\n                });\r\n        }\r\n    }\r\n}","// Hotspot data for the basket handles.\r\nmodule FryChallenge {\r\n    export class Handles {\r\n        static handles: Array<Phaser.Rectangle> = [\r\n            new Phaser.Rectangle(25, 470, 55, 100),\r\n            new Phaser.Rectangle(80, 470, 60, 100),\r\n            new Phaser.Rectangle(180, 470, 60, 100),\r\n            new Phaser.Rectangle(240, 470, 80, 100),\r\n            new Phaser.Rectangle(355, 470, 85, 100)\r\n        ];\r\n\r\n        static world: Phaser.World;\r\n        static right: Phaser.Sprite;\r\n\r\n        static Configure(world: Phaser.World, right: Phaser.Sprite) {\r\n            this.world = world;\r\n            this.right = right;\r\n        }\r\n\r\n        public static Get(index: number): Phaser.Rectangle {\r\n            var r = new Phaser.Rectangle(\r\n                (this.handles[ index ].x * this.right.scale.x) + this.world.centerX,\r\n                (this.handles[ index ].y * this.right.scale.y) + this.right.top,\r\n                this.handles[ index ].width,\r\n                this.handles[ index ].height\r\n            );\r\n\r\n            r.scale(this.right.scale.x, this.right.scale.y);\r\n\r\n            return r;\r\n        }\r\n\r\n        public static Test(index: number, point: Phaser.Point): boolean {\r\n            return this.Get(index).contains(point.x, point.y);\r\n        }\r\n    }\r\n}","module FryChallenge {\r\n    export class InputEvent {\r\n        static MouseDown: string = ('PointerEvent' in window ? 'pointerdown' : ('MSPointerEvent' in window ? 'MSPointerDown' : 'mousedown touchstart'));\r\n        static MouseMove: string = ('PointerEvent' in window ? 'pointermove' : ('MSPointerEvent' in window ? 'MSPointerMove' : 'mousemove touchmove'));\r\n        static MouseUp: string = ('PointerEvent' in window ? 'pointerup' : ('MSPointerEvent' in window ? 'MSPointerUp' : 'mouseup touchend'));\r\n        static Click: string = 'click touchstart';\r\n    }\r\n}","// Hotspot data for the nugget holding bins.\r\nmodule FryChallenge {\r\n    export class Nuggets {\r\n        static nuggets: Array<Phaser.Rectangle> = [\r\n            new Phaser.Rectangle(140, 480, 95, 85),\r\n            new Phaser.Rectangle(175, 418, 105, 63)\r\n        ];\r\n\r\n        static left: Phaser.Sprite;\r\n\r\n        static Configure(left: Phaser.Sprite) {\r\n            this.left = left;\r\n        }\r\n\r\n        public static Get(index: number): Phaser.Rectangle {\r\n            var r = new Phaser.Rectangle(\r\n                (this.nuggets[ index ].x * this.left.scale.x),\r\n                (this.nuggets[ index ].y * this.left.scale.y) + this.left.top,\r\n                this.nuggets[ index ].width,\r\n                this.nuggets[ index ].height\r\n            );\r\n\r\n            r.scale(this.left.scale.x, this.left.scale.y);\r\n\r\n            return r;\r\n        }\r\n\r\n        public static Test(index: number, point: Phaser.Point): boolean {\r\n            return this.Get(index).contains(point.x, point.y);\r\n        }\r\n    }\r\n}","// Hotspot data for the oil slots.\r\nmodule FryChallenge {\r\n    export class Oil {\r\n        static oil: Array<Phaser.Rectangle> = [\r\n            new Phaser.Rectangle(25, 395, 55, 160),\r\n            new Phaser.Rectangle(85, 395, 55, 160),\r\n            new Phaser.Rectangle(175, 395, 55, 160),\r\n            new Phaser.Rectangle(230, 395, 80, 160),\r\n            new Phaser.Rectangle(320, 395, 85, 160)\r\n        ];\r\n\r\n        static world: Phaser.World;\r\n        static right: Phaser.Sprite;\r\n\r\n        static Configure(world: Phaser.World, right: Phaser.Sprite) {\r\n            this.world = world;\r\n            this.right = right;\r\n        }\r\n\r\n        public static Get(index: number): Phaser.Rectangle {\r\n            var r = new Phaser.Rectangle(\r\n                (this.oil[ index ].x * this.right.scale.x) + this.world.centerX,\r\n                (this.oil[ index ].y * this.right.scale.y) + this.right.top,\r\n                this.oil[ index ].width,\r\n                this.oil[ index ].height\r\n            );\r\n\r\n            r.scale(this.right.scale.x, this.right.scale.y);\r\n\r\n            return r;\r\n        }\r\n\r\n        public static Test(index: number, point: Phaser.Point): boolean {\r\n            return this.Get(index).contains(point.x, point.y);\r\n        }\r\n    }\r\n}","module FryChallenge {\r\n    export class Operation {\r\n        public operation: string;\r\n        public value: string = '';\r\n        public showNext: boolean = false;\r\n        public args: any;\r\n        public wait: boolean = false;\r\n        public indicator: boolean = false;\r\n        public target: any;\r\n        public shellHelper: string;\r\n        public helper: string;\r\n        public payoff: string;\r\n        public audioClip: String;\r\n    }\r\n}","module FryChallenge.Controls {\r\n    export class Quiz {\r\n        element: Element;\r\n        question: any;\r\n\r\n        constructor() {\r\n            this.element = $('#question-container').get(0);\r\n        }\r\n\r\n        Show(question: any) {\r\n            this.question = question;\r\n\r\n            let qHtml = $('<div id=\"question\">');\r\n            qHtml.append('<div id=\"question-text\">' + question.question + '</div>');\r\n\r\n            let aHtml = $('<ul id=\"answers\">');\r\n            for (var i = 0; i < question.answers.length; i++) {\r\n                aHtml.append('<li class=\"answer ' + (question.correct == i ? 'right' : 'wrong') + '\">' + question.answers[i] + '</li>');\r\n                aHtml.children().last().on('click', (e) => this.OnSelectAnswer(e));\r\n            }\r\n\r\n            qHtml.append(aHtml).append('<div id=\"remediation\">');\r\n            $(this.element).html('').append(qHtml).show();\r\n        }\r\n\r\n        Hide() {\r\n            $(this.element).hide();\r\n        }\r\n\r\n        OnSelectAnswer(e: JQueryEventObject) {\r\n            let $selection = $(e.currentTarget);\r\n\r\n            $selection.addClass('selected');\r\n\r\n            if ($selection.hasClass('right')) {\r\n                $selection.parent().addClass('right');\r\n                FryGame.PlaySound('good');\r\n                FryGame.Correct();\r\n            } else {\r\n                $selection.parent().addClass('wrong');\r\n                FryGame.PlaySound('bad');\r\n                FryGame.Wrong();\r\n            }\r\n\r\n            // For the quiz, we set the number of attempts to the index of the answer to get the correct point value.\r\n            (FryGame.instance().state.getCurrentState() as Main).attempts = $selection.index();\r\n\r\n            $('#remediation').html(this.question.remediation[$selection.index()]);\r\n            (FryGame.instance().state.getCurrentState() as Main).PlayVoiceLine(this.question.remediationAudio[$selection.index()]);\r\n\r\n            $('.answer').off('click');\r\n\r\n            (FryGame.instance().state.getCurrentState() as Main).EvaluateNext();\r\n        }\r\n    }\r\n}","module FryChallenge {\r\n    export class Timer {\r\n        element: Element;\r\n        interval: number;\r\n        startTime: number;\r\n        time: number;\r\n        speed: number;\r\n        minTime: number;\r\n        awaitingFinish: boolean;\r\n        awaitingClick: boolean;\r\n        alarmSound: any;\r\n\r\n        constructor(element: Element) {\r\n            this.element = element;\r\n        }\r\n\r\n        public Activate(startTime: number, speed: number = 1000, minTime: number = 0, awaitClick: boolean = false, awaitFinish: boolean = false) {\r\n            // Clear any previous timer interval.\r\n            if (this.interval)\r\n                clearInterval(this.interval);\r\n\r\n            // Set new defaults       \r\n            if (startTime == -1)\r\n                this.startTime = this.time;\r\n            else\r\n                this.time = this.startTime = startTime;\r\n\r\n            this.speed = speed;\r\n            this.minTime = minTime;\r\n            this.awaitingFinish = awaitFinish;\r\n            this.awaitingClick = awaitClick;\r\n\r\n            // Await user action to start.\r\n            if (awaitClick) {\r\n                var wrongCallback = function () {\r\n                    FryGame.PlaySound('bad');\r\n                    FryGame.Wrong();\r\n\r\n                    // Increment the number of attempts it took to get it right for scoring:\r\n                    (FryGame.instance().state.getCurrentState() as Main).attempts++;\r\n                };\r\n\r\n                $(this.element).parent().one('click', function () {\r\n                    $('#time-bar .left > div, #time-bar .right > div').not($(this.element).parent()).off('click', wrongCallback);\r\n\r\n                    this.Start();\r\n                    FryGame.PlaySound('good');\r\n                    FryGame.Correct();\r\n                }.bind(this));\r\n\r\n                $('#time-bar .left > div, #time-bar .right > div').not($(this.element).parent()).on('click', wrongCallback);\r\n            } else\r\n                this.Start();\r\n        }\r\n\r\n        public Start() {\r\n            // Display start time and begin the countdown.\r\n            $(this.element).text(this.FormatTime());\r\n            this.interval = setInterval(this.Tick.bind(this), this.speed);\r\n\r\n            // Tell the game that we can move on.\r\n            if (this.awaitingClick)\r\n                (FryGame.instance().state.getCurrentState() as Main).EvaluateNext();\r\n        }\r\n\r\n        public Reset(auto: boolean = false) {\r\n            var self = this;\r\n\r\n            // Clear any previous timer interval.\r\n            if (this.interval)\r\n                clearInterval(this.interval);\r\n\r\n            if (auto) {\r\n                $(this.element).text('--:--');\r\n                return;\r\n            }\r\n\r\n            // Play the alarm sound and make the alarm blink:\r\n            this.alarmSound = FryGame.LoopSound('alarm');\r\n            $(this.element).addClass('blink');\r\n\r\n            var wrongCallback = function () {\r\n                FryGame.PlaySound('bad');\r\n                FryGame.Wrong();\r\n\r\n                // Increment the number of attempts it took to get it right for scoring:\r\n                (FryGame.instance().state.getCurrentState() as Main).attempts++;\r\n            };\r\n\r\n            // Reset the timer and move on.\r\n            $(this.element).parent().one('click', function () {\r\n                $('#time-bar .left > div, #time-bar .right > div').not($(self.element).parent()).off('click', wrongCallback);\r\n\r\n                window['sounds']['alarm'].stop(self.alarmSound);\r\n\r\n                FryGame.PlaySound('good');\r\n                FryGame.Correct();\r\n\r\n                $(self.element).removeClass('blink');\r\n                $(this).find('.time').text('--:--');\r\n                (FryGame.instance().state.getCurrentState() as Main).EvaluateNext();\r\n            });\r\n\r\n            $('#time-bar .left > div, #time-bar .right > div').not($(this.element).parent()).on('click', wrongCallback);\r\n        }\r\n\r\n        Tick() {\r\n            this.time = Math.max(this.time - 1, this.minTime);\r\n            $(this.element).text(this.FormatTime());\r\n\r\n            // Sometimes we need to stall the timer so it doesn't finish early if the user is going slow.            \r\n            if (this.time <= this.minTime) {\r\n                clearInterval(this.interval);\r\n\r\n                if (this.awaitingFinish)\r\n                    (FryGame.instance().state.getCurrentState() as Main).EvaluateNext();\r\n            }\r\n        }\r\n\r\n        FormatTime(): string {\r\n            return (this.time / 60 > 9 ? '' : '0') + Math.max(Math.floor(this.time / 60), 0) + ':' + (this.time % 60 < 10 ? '0' : '') + Math.max(this.time % 60, 0);\r\n        }\r\n    }\r\n}","/// <reference path=\"../../../typings/globals/jquery/index.d.ts\" />\r\n\r\nmodule FryChallenge {\r\n    export class Timers {\r\n        nuggets: Array<Timer> = new Array<Timer>();\r\n        fries: Array<Timer> = new Array<Timer>();\r\n        oil: Array<Timer> = new Array<Timer>();\r\n\r\n        constructor() {\r\n            $('#time-bar .left > :first-child .time').each((i, e) => this.nuggets.push(new Timer(e)));\r\n            $('#time-bar .left > :nth-child(3) .time, #time-bar .left > :last-child .time').each((i, e) => this.fries.push(new Timer(e)));\r\n            $('#time-bar .right > * .time').each((i, e) => this.oil.push(new Timer(e)));\r\n        }\r\n\r\n        Activate(zone: string, index: number = 0, args: any) {\r\n            var time = args.time == undefined ? -1 : args.time;\r\n            var minTime = args.minTime == undefined ? -1 : args.minTime;\r\n\r\n            (this[ zone ][ index ] as Timer).Activate(time, args.speed, minTime, args.awaitClick || false, args.awaitFinish || false);          \r\n        }\r\n\r\n        Reset(zone: string, index: number = 0, auto: boolean = false) {\r\n            (this[ zone ][ index ] as Timer).Reset(auto);          \r\n        }\r\n    }\r\n}","/// <reference path=\"../../../typings/globals/jquery/index.d.ts\" />\r\n\r\nmodule FryChallenge.Controls {\r\n    export class ToolTray {\r\n        element: Element;\r\n        draggableClone: Element;\r\n        draggableCorrect: boolean = false;\r\n        target: { zone: any, index: number };\r\n        indicator: Element;\r\n\r\n        constructor() {\r\n            this.element = $('#tool-tray').get(0);\r\n\r\n            // Add the tool tray element below the container.\r\n            $('#container').after(this.element);\r\n\r\n            $(document.body).on(InputEvent.MouseMove, this.OnMouseMove.bind(this));\r\n            $(document.body).on(InputEvent.MouseUp, this.OnMouseUp.bind(this));\r\n            $(document.body).on('mouseleave', this.OnMouseLeave.bind(this));\r\n\r\n            // Create a pulsing dot indicator\r\n            this.indicator = document.createElement('div');\r\n            this.indicator.className = 'pulse';\r\n        }\r\n\r\n        public Show(tools: Array<string>, correct: string, target: { zone: any, index: number }, indicator: boolean) {\r\n            this.target = target;\r\n\r\n            // Optionally show a pulsing indicator at the center of the target.\r\n            if (indicator) {\r\n                $(this.indicator).css({\r\n                    left: this.target.zone.Get(target.index).centerX,\r\n                    top: this.target.zone.Get(target.index).centerY\r\n                });\r\n\r\n                $(document.body).append(this.indicator);\r\n            }\r\n\r\n            // If we've got new tools to render, populate the tray.\r\n            if (tools) {\r\n                $(this.element).html('');\r\n\r\n                for (var i in tools) {\r\n                    $(this.element).append(this.CreateTool(tools[i], tools[i] == correct));\r\n                }\r\n            }\r\n\r\n            //$(this.element).animate({ 'bottom': 0 }, 200);\r\n        }\r\n\r\n        public ShowClick(tools: Array<string>, correct: string) {\r\n            // If we've got new tools to render, populate the tray.\r\n            if (tools) {\r\n                $(this.element).html('');\r\n\r\n                for (var i in tools) {\r\n                    $(this.element).append(this.CreateTool(tools[i], tools[i] == correct, true));\r\n                }\r\n            }\r\n        }\r\n\r\n        public Hide() {\r\n            //$(this.element).animate({ 'bottom': '-100px' }, 200);\r\n        }\r\n\r\n        public Resize() {\r\n            try {\r\n                $(this.indicator).css({\r\n                    left: this.target.zone.Get(this.target.index).centerX,\r\n                    top: this.target.zone.Get(this.target.index).centerY\r\n                });\r\n            } catch (err) {\r\n                // Indicator is not active.\r\n            }\r\n        }\r\n\r\n        CreateTool(tool: string, correct: boolean, click: boolean = false) {\r\n            var self = this;\r\n\r\n            var toolElement = document.createElement('div');\r\n            toolElement.className = 'tool';\r\n\r\n            $(toolElement).append(\r\n                '<div class=\"hover-button\"><img src=\"../../Assets/Images/Game/tool-container.png\" /><img src=\"../../Assets/Images/Game/tool-container-over.png\" class=\"hover\" /></div>' +\r\n                '<img draggable src=\"../../Assets/Images/Game/tray_' + tool + '.png\" />'\r\n            );\r\n\r\n            // Create a clone of the tool image to drag around.\r\n            if (click) {\r\n                if (correct) {\r\n                    $(toolElement).one('click', function (e) {\r\n                        FryGame.PlaySound('good');\r\n                        FryGame.Correct();\r\n                        $(self.element).find('.tool').off('click');\r\n                        (FryGame.instance().state.getCurrentState() as Main).EvaluateNext();\r\n                    });\r\n                } else {\r\n                    $(toolElement).on('click', function (e) {\r\n                        FryGame.PlaySound('bad');\r\n                        FryGame.Wrong();\r\n\r\n                        // Increment the number of attempts it took to get it right for scoring:\r\n                        (FryGame.instance().state.getCurrentState() as Main).attempts++;\r\n                    });\r\n                }\r\n            } else {\r\n                $(toolElement).on(InputEvent.MouseDown, function (e) {\r\n                    self.draggableCorrect = correct;\r\n                    self.draggableClone = $(this).children().last().clone()[0];\r\n                    $(self.draggableClone).css({\r\n                        position: 'absolute',\r\n                        left: -10000,\r\n                        top: -10000,\r\n                        zIndex: 10000\r\n                    });\r\n                    $(self.draggableClone).appendTo(document.body);\r\n                });\r\n            }\r\n\r\n            return toolElement;\r\n        }\r\n\r\n        OnMouseMove(e) {\r\n            if (this.draggableClone == undefined)\r\n                return;\r\n\r\n            var evt = e;\r\n            if (e.type == 'touchmove')\r\n                evt = e.originalEvent.touches[0];\r\n            else if (e.type == 'MSPointerMove')\r\n                evt = e.originalEvent;\r\n\r\n            // Keep the draggables inside the container because they cause iOS to inflate the iframe width when they go off the right or bottom.\r\n            var leftPosition = Math.min(\r\n                evt.clientX - $(this.draggableClone).width() / 2,\r\n                $('body').width() - $(this.draggableClone).width());\r\n\r\n            var topPosition = Math.min(\r\n                evt.clientY - $(this.draggableClone).height() / 2,\r\n                $('body').height() - $(this.draggableClone).height());\r\n\r\n            $(this.draggableClone).css({\r\n                left: leftPosition,\r\n                top: topPosition\r\n            });\r\n\r\n            e.preventDefault();\r\n        }\r\n\r\n        OnMouseUp(e) {\r\n            if (this.draggableClone == undefined)\r\n                return;\r\n\r\n            var evt = e;\r\n            if (e.type == 'touchend')\r\n                evt = e.originalEvent.changedTouches[0];\r\n            else if (e.type == 'MSPointerUp')\r\n                evt = e.originalEvent;\r\n\r\n            $(this.draggableClone).remove();\r\n            this.draggableClone = undefined;\r\n\r\n            if (this.draggableCorrect && this.target.zone.Test(this.target.index, new Phaser.Point(evt.clientX, evt.clientY))) {\r\n                FryGame.PlaySound('good');\r\n                FryGame.Correct();\r\n                $(this.indicator).remove();\r\n                $(this.element).find('.tool').off(InputEvent.MouseDown);\r\n                (FryGame.instance().state.getCurrentState() as Main).EvaluateNext();\r\n            } else {\r\n                FryGame.PlaySound('bad');\r\n                FryGame.Wrong();\r\n\r\n                // Increment the number of attempts it took to get it right for scoring:\r\n                (FryGame.instance().state.getCurrentState() as Main).attempts++;\r\n            }\r\n        }\r\n\r\n        OnMouseLeave(e) {\r\n            if (this.draggableClone == undefined)\r\n                return;\r\n\r\n            $(this.draggableClone).remove();\r\n            this.draggableClone = undefined;\r\n        }\r\n    }\r\n}","module FryChallenge {\r\n    export class Boot extends Phaser.State {\r\n        create() {\r\n            // Configure game engine settings:\r\n            this.input.maxPointers = 2;\r\n            this.game.stage.disableVisibilityChange = true;\r\n\r\n            // Configure scaling:\r\n            this.game.scale.scaleMode = Phaser.ScaleManager.RESIZE;\r\n\r\n            // Start loading the game.            \r\n            this.game.state.start('Preload', true, false);\r\n        }\r\n    }\r\n}","///<reference path=\"../../../_Published/Source/XM/Helpers.js\" />\r\n\r\nmodule FryChallenge {\r\n    export class Main extends Phaser.State {\r\n        // Display objects\r\n        left: Phaser.Sprite;\r\n        right: Phaser.Sprite;\r\n        toolTray: Controls.ToolTray;\r\n        quiz: Controls.Quiz;\r\n        timers: Timers;\r\n\r\n        // State\r\n        script: Array<Operation>;\r\n        currentOperation: number = 0;\r\n        helpTimer: any;\r\n        helpTime: number = 10000;\r\n        leftFrame: number = 1;\r\n        rightFrame: number = 1;\r\n        voiceAudioId: number;\r\n        voiceAudioName: string;\r\n        firstAudio: boolean = true;\r\n        scoreArray: Array<number>;\r\n        attempts: number = 0;\r\n        score: number = 0;\r\n\r\n        create() {\r\n            this.script = window['script'];\r\n\r\n            this.game.input.enabled = false;\r\n\r\n            // Create game environment sprites:\r\n            this.left = this.add.sprite(0, this.world.centerY, 'left1');\r\n            this.left.anchor.setTo(0, 0.5);\r\n            this.left.width = this.world.width / 2;\r\n            this.left.scale.y = this.left.scale.x;\r\n\r\n            this.right = this.add.sprite(this.world.width, this.world.centerY, 'right1');\r\n            this.right.anchor.setTo(1, 0.5);\r\n            this.right.width = this.world.width / 2;\r\n            this.right.scale.y = this.right.scale.x;\r\n\r\n            // Configure hotspot helpers:\r\n            Oil.Configure(this.world, this.right);\r\n            Fries.Configure(this.left);\r\n            Nuggets.Configure(this.left);\r\n            Handles.Configure(this.world, this.right);\r\n            // Configure timer helper\r\n            this.timers = new Timers();\r\n\r\n            // Create tool tray:\r\n            this.toolTray = new Controls.ToolTray();\r\n\r\n            // Create quiz container:\r\n            this.quiz = new Controls.Quiz();\r\n\r\n            // Start evaluating the scenario script:\r\n            this.Evaluate();\r\n        }\r\n\r\n        resize() {\r\n            this.left.y = this.world.centerY;\r\n            this.left.width = this.world.width / 2;\r\n            this.left.scale.y = this.left.scale.x;\r\n\r\n            this.right.y = this.world.centerY;\r\n            this.right.x = this.world.width;\r\n            this.right.width = this.world.width / 2;\r\n            this.right.scale.y = this.right.scale.x;\r\n\r\n            this.toolTray.Resize();\r\n        }\r\n\r\n        public EvaluateNext() {\r\n            // Check if the last operation was scorable and add points based on the number of attempts.\r\n            if (this.scoreArray.length > 0) {\r\n                this.attempts = Math.min(this.attempts, this.scoreArray.length - 1);\r\n                this.score += this.scoreArray[this.attempts];\r\n                $('#scoreboard span').text(this.score);\r\n                // TODO: Format the score number with commas.\r\n\r\n                // Reset the score array so the next operation doesn't carry over the scoring:\r\n                this.scoreArray = [];\r\n\r\n            }\r\n\r\n            this.currentOperation++;\r\n            this.Evaluate();\r\n        }\r\n\r\n        Evaluate(operation = null) {\r\n            let op = operation || this.script[this.currentOperation];\r\n            let self = this;\r\n\r\n            if ('audioClip' in op) {\r\n                this.PlayVoiceLine(op.audioClip);\r\n            }\r\n\r\n            // Clear any previous help timers\r\n            clearInterval(this.helpTimer);\r\n\r\n            // Dismiss any remaining helpers\r\n            parent['tour'].cancel();\r\n            window['tour'].cancel();\r\n\r\n            // Perform the main operation\r\n            this.Perform(op);\r\n\r\n            this.scoreArray = op.score || [];\r\n            this.attempts = 0;\r\n\r\n            // If a tour helper exists for this operation, start the timer.\r\n            if(!IsIniPhone()) {\r\n                if (op.shellHelper) {\r\n                    this.helpTimer = setTimeout(function () {\r\n                        parent['tour'].show(op.shellHelper);\r\n                    }, this.helpTime);\r\n                } else if (op.helper) {\r\n                    this.helpTimer = setTimeout(function () {\r\n                        window['tour'].show(op.helper);\r\n                    }, this.helpTime);\r\n                }\r\n            }\r\n\r\n            // Optionally show a next button in the Shell header.\r\n            if (op.showNext) {\r\n                parent['$']('#instructions .hover-button').show();\r\n                parent['$']('#instructions .hover-button').one('click', function () {\r\n                    FryGame.PlaySound('neutral');\r\n                    $(this).hide();\r\n\r\n                    self.EvaluateNext();\r\n                });\r\n                // Optionally wait for the operation to advance itself.\r\n            } else if (op.wait) {\r\n                console.log('Waiting for user input.');\r\n                // Otherwise move on to the next operation automatically.\r\n            } else {\r\n                this.EvaluateNext();\r\n            }\r\n        }\r\n\r\n        Perform(op: Operation) {\r\n            let self = this;\r\n\r\n            switch (op.operation) {\r\n                case 'instruct':\r\n                    parent['$']('#instructions span').html(op.value);\r\n                    break;\r\n                case 'show-tools':\r\n                    this.toolTray.Show(op.args, op.value, op.target, op.indicator);\r\n                    break;\r\n                case 'click-tool':\r\n                    this.toolTray.ShowClick(op.args, op.value);\r\n                    break;\r\n                case 'hide-tools':\r\n                    this.toolTray.Hide();\r\n                    break;\r\n                case 'increment-view':\r\n                    this[op.args + 'Frame']++;\r\n                    this[op.args].loadTexture(op.args + this[op.args + 'Frame'], 0);\r\n                    break;\r\n                case 'decrement-view':\r\n                    this[op.args + 'Frame']--;\r\n                    this[op.args].loadTexture(op.args + this[op.args + 'Frame'], 0);\r\n                    break;\r\n                case 'timer':\r\n                    this.timers.Activate(op.target.zone, op.target.index || 0, op.args);\r\n                    break;\r\n                case 'reset-timer':\r\n                    let auto = op.args ? op.args.auto || false : false;\r\n                    this.timers.Reset(op.target.zone, op.target.index || 0, auto);\r\n                    break;\r\n                case 'carton':\r\n                    $('#carton-' + op.value).animate({ top: 0 }, 500).one('click', function () {\r\n                        $(this).animate({ top: - $(this).height() }, 500);\r\n                        if (IsInMobileSafari())\r\n                            $('#order-' + op.value)\r\n                                .css({ left: self.world.centerX - $('#order-' + op.value).width() / 2 });\r\n                        else\r\n                            $('#order-' + op.value)\r\n                                .css({ left: - $('#order-' + op.value).width() })\r\n                                .animate({ left: self.world.centerX - $('#order-' + op.value).width() / 2 }, 500);\r\n\r\n                        self.EvaluateNext();\r\n                    });\r\n                    break;\r\n                case 'carton-on':\r\n                    if (IsInMobileSafari())\r\n                        $('#order-' + op.value)\r\n                            .css({ left: self.world.centerX - $('#order-' + op.value).width() / 2 });\r\n                    else\r\n                        $('#order-' + op.value)\r\n                            .css({ left: - $('#order-' + op.value).width() })\r\n                            .animate({ left: self.world.centerX - $('#order-' + op.value).width() / 2 }, 500);\r\n                    break;\r\n                case 'carton-off':\r\n                    if (IsInMobileSafari())\r\n                        $('#order-' + op.value).hide();\r\n                    else\r\n                        $('#order-' + op.value).animate({ left: self.world.width + $('#order-' + op.value).width() }, 500);\r\n                    break;\r\n                case 'hotspot':\r\n                    let callback = function (e) {\r\n                        var evt = e.type == \"touchstart\" ? e.originalEvent.touches[0] : e;\r\n\r\n                        if (op.target.zone.Test(op.target.index, new Phaser.Point(evt.clientX, evt.clientY))) {\r\n                            $('#container').off(InputEvent.Click, callback);\r\n\r\n                            FryGame.PlaySound('good');\r\n                            FryGame.Correct();\r\n\r\n                            // Show payoff animation or move on.\r\n                            if (op.payoff) {\r\n                                self.PlayAnimation(op.payoff);\r\n                            } else {\r\n                                self.EvaluateNext();\r\n                            }\r\n\r\n                            //g.clear();\r\n                        } else {\r\n                            FryGame.PlaySound('bad');\r\n                            FryGame.Wrong();\r\n\r\n                            // Increment the number of attempts it took to get it right for scoring:\r\n                            (FryGame.instance().state.getCurrentState() as Main).attempts++;\r\n                        }\r\n                    }\r\n\r\n                    //-- Making hotspots visible\r\n                    // let z = op.target.zone.Get(op.target.index);\r\n                    // let g = this.game.add.graphics(0, 0);\r\n                    // g.boundsPadding = 0;\r\n                    // g.beginFill(0xff0000);\r\n                    // g.drawRect(z.x, z.y, z.width, z.height)\r\n                    // g.endFill();\r\n\r\n                    $('#container').on(InputEvent.Click, callback);\r\n                    break;\r\n                case 'dragspot':\r\n                    // Create a new draggable image to display and add it to the document so it has a chance to load.\r\n                    let clone = document.createElement('img');\r\n                    $(clone)\r\n                        .attr('src', '../../Assets/Images/Game/' + op.args.image)\r\n                        .css({\r\n                            position: 'absolute',\r\n                            zIndex: 10000,\r\n                            display: 'none',\r\n                            transform: 'scale(' + this.left.scale.x + ')'\r\n                        }).appendTo(document.body);\r\n\r\n                    let startCallback = function (e) {\r\n                        var evt = e;\r\n                        if (e.type == 'touchstart')\r\n                            evt = e.originalEvent.touches[0];\r\n                        else if (e.type == 'MSPointerDown')\r\n                            evt = e.originalEvent;\r\n\r\n                        if (op.args.origin.zone.Test(op.args.origin.index, new Phaser.Point(evt.clientX, evt.clientY))) {\r\n                            self.Perform(op.args.startOperation);\r\n\r\n                            $('body').on(InputEvent.MouseMove, moveCallback);\r\n                            $('body').on(InputEvent.MouseUp, dropCallback);\r\n\r\n                            moveCallback(e);\r\n\r\n                            $(clone).show();\r\n                        }\r\n                    };\r\n\r\n                    let moveCallback = function (e) {\r\n                        var evt = e;\r\n                        if (e.type == 'touchmove')\r\n                            evt = e.originalEvent.touches[0];\r\n                        else if (e.type == 'MSPointerMove')\r\n                            evt = e.originalEvent;\r\n\r\n                        // Keep the draggables inside the container because they cause iOS to inflate the iframe width when they go off the right or bottom.\r\n                        var leftPosition = Math.min(\r\n                            evt.clientX - $(clone).width() / 2,\r\n                            $('body').width() - $(clone).width());\r\n\r\n                        var topPosition = Math.min(\r\n                            evt.clientY - $(clone).height() / 2,\r\n                            $('body').height() - $(clone).height());\r\n\r\n                        $(clone).css({\r\n                            left: leftPosition,\r\n                            top: topPosition\r\n                        });\r\n\r\n                        e.preventDefault();\r\n                    };\r\n\r\n                    let dropCallback = function (e) {\r\n                        var evt = e;\r\n                        if (e.type == 'touchend')\r\n                            evt = e.originalEvent.changedTouches[0];\r\n                        else if (e.type == 'MSPointerUp')\r\n                            evt = e.originalEvent;\r\n\r\n                        $('body').off(InputEvent.MouseMove, moveCallback);\r\n                        $('body').off(InputEvent.MouseUp, dropCallback);\r\n                        $(clone).hide();\r\n\r\n                        if (op.target.zone.Test(op.target.index, new Phaser.Point(evt.clientX, evt.clientY))) {\r\n                            $('#container').off(InputEvent.MouseDown, startCallback)\r\n                            FryGame.PlaySound('good');\r\n                            FryGame.Correct();\r\n                            $(clone).remove();\r\n                            self.EvaluateNext();\r\n                        } else {\r\n                            FryGame.PlaySound('bad');\r\n                            FryGame.Wrong();\r\n                            self.Perform(op.args.wrongOperation);\r\n\r\n                            // Increment the number of attempts it took to get it right for scoring:\r\n                            (FryGame.instance().state.getCurrentState() as Main).attempts++;\r\n                        }\r\n                    }\r\n\r\n                    $('#container').on(InputEvent.MouseDown, startCallback);\r\n\r\n                    break;\r\n                case 'payoff':\r\n                    // Important note, the first payoff should be behind a hotspot!\r\n                    this.PlayAnimation(op.value);\r\n                    break;\r\n                case 'question':\r\n                    this.quiz.Show(op.args);\r\n                    $(document).off('touchmove');\r\n                    break;\r\n                case 'hide-quiz':\r\n                    this.quiz.Hide();\r\n                    $(document).on('touchmove', false);\r\n                    break;\r\n                case 'next-slide':\r\n                    window['LMS'].SaveToSuspendData('slide' + window['Shell'].currentSlideNumber + 'Score', this.score);\r\n                    if (Shell.IsSlideComplete(9)) {\r\n                        Shell.GoToSlide(9);\r\n                    } else {\r\n                        Slide.Complete();\r\n                        window['Shell'].NextSlide();\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\n        PlayAnimation(name) {\r\n            let self = this;\r\n\r\n            // Show the video container and fade it in.\r\n            $('#video-container')\r\n                // Remove any lingering videos.\r\n                .html('')\r\n                .show()\r\n                .animate({\r\n                    opacity: 1\r\n                }, 500, function () {\r\n                    // Once the fade in is complete, show and play the video.\r\n                    $(this).html('<video autoplay controls webkit-playsinline playsinline onplaying=\"$(this).removeAttr(\\'controls\\');\"><source src=\"../../Assets/Videos/' + name + '.mp4\" type=\"video/mp4\" /></video>');\r\n                    $(this).find('video').one('ended', function () {\r\n                        // After the video, fade out the container and then move on.\r\n                        $('#video-container').animate({ opacity: 0 }, 500, function () {\r\n                            $(this).hide();\r\n                            self.EvaluateNext();\r\n                        });\r\n                    });\r\n                });\r\n        }\r\n\r\n        PlayVoiceLine(audioClip) {\r\n            if ((IsInMobileSafari() || IsInAndroid()) && this.firstAudio) {\r\n                this.firstAudio = false;\r\n                return;\r\n            }\r\n\r\n            // Stop any previous audio so voice lines don't overlap\r\n            if (this.voiceAudioId) {\r\n                FryGame.StopSound(this.voiceAudioName, this.voiceAudioId);\r\n            }\r\n\r\n            this.voiceAudioName = audioClip;\r\n            this.voiceAudioId = FryGame.PlaySound(audioClip);\r\n        }\r\n    }\r\n}","///<reference path=\"../../../_Published/Source/XM/Events/XMEvent.js\" />\r\n///<reference path=\"../../../_Published/Source/XM/Slides/CustomSlide.js\" />\r\n\r\nmodule FryChallenge {    \r\n    export class Preload extends Phaser.State {\r\n        preload() {\r\n            for (var key in window[ 'manifest' ]) {\r\n                this.load.image(key, window['manifest'][ key ]);\r\n            }\r\n        }\r\n\r\n        create() {\r\n            this.game.state.start('Main', true, false);\r\n\t\t    Slide.Dispatch(XMEvent.Loaded);\r\n        }\r\n    }\r\n}"],"sourceRoot":""}